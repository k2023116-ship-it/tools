<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
 <!-- ‚úÖ SEO Meta -->
  <meta name="description" content="Free online Image Resize & Crop tool by Toolify. Quickly resize, crop, and download images in PNG, JPG, or WEBP format. Fast, simple, and secure.">
  <meta name="keywords" content="image resize, image crop, resize image online, crop image online, jpg to png, png resize, webp crop, free image editor, Toolify">
  <meta name="robots" content="index, follow">
  <meta name="author" content="Toolify">
<title>Image Resize & Crop ‚Äî Toolify</title>
<style>
  :root{
    --bg: #0d1117;
    --card: rgba(22,27,34,0.85);
    --muted: #8b949e;
    --accent: #58a6ff;
    --success: #2ea043;
    --danger: #f85149;
    --glass-border: rgba(88,166,255,0.08);
  }

  *{box-sizing:border-box}
  body{
    margin:0;
    min-height:100vh;
    font-family: "Segoe UI", Roboto, system-ui, -apple-system, "Helvetica Neue", Arial;
    background: linear-gradient(180deg,#0b0f14 0%, #131521 100%);
    color:#e6eef8;
    display:flex;
    align-items:flex-start;
    justify-content:center;
    padding:36px 20px;
  }

  .wrap{
    width:100%;
    max-width:980px;
  }

  header{
    margin-bottom:18px;
    display:flex;
    align-items:center;
    gap:12px;
  }
  header h1{
    margin:0;
    font-size:20px;
    color:var(--accent);
    text-shadow: 0 6px 18px rgba(88,166,255,0.06);
  }
  header p{
    margin:0;
    color:var(--muted);
    font-size:13px;
  }

  .card{
    background:var(--card);
    border-radius:14px;
    padding:18px;
    box-shadow: 0 10px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
    border: 1px solid var(--glass-border);
  }

  .top-grid{
    display:grid;
    grid-template-columns: 1fr 360px;
    gap:18px;
  }

  /* Upload area */
  .upload-area{
    border: 2px dashed rgba(88,166,255,0.08);
    border-radius:12px;
    padding:22px;
    display:flex;
    align-items:center;
    gap:16px;
    transition: all .18s ease;
    cursor:pointer;
    background: linear-gradient(180deg, rgba(255,255,255,0.02), transparent);
  }
  .upload-area.dragover{
    border-color: rgba(88,166,255,0.42);
    box-shadow: 0 10px 30px rgba(88,166,255,0.06);
    transform: translateY(-2px);
  }
  .upload-left{
    width:84px;
    height:84px;
    border-radius:12px;
    background: linear-gradient(135deg, rgba(88,166,255,0.14), rgba(46,160,67,0.06));
    display:flex;
    align-items:center;
    justify-content:center;
    font-size:30px;
    color:var(--accent);
    flex-shrink:0;
  }
  .upload-meta{
    flex:1;
  }
  .upload-meta h3{
    margin:0;
    font-size:16px;
    color:#eaf4ff;
  }
  .upload-meta p{
    margin:6px 0 0 0;
    color:var(--muted);
    font-size:13px;
  }
  .upload-cta{
    margin-top:8px;
    display:flex;
    gap:8px;
    align-items:center;
  }
  .btn {
    background: linear-gradient(135deg,var(--accent), #2f90ff);
    color:#071025;
    padding:8px 12px;
    border-radius:10px;
    font-weight:600;
    border:none;
    cursor:pointer;
    box-shadow: 0 8px 18px rgba(88,166,255,0.06);
  }
  .btn.ghost {
    background:transparent;
    color:var(--muted);
    border: 1px solid rgba(255,255,255,0.03);
    box-shadow:none;
  }
  .btn.small{ padding:6px 10px; font-size:13px; border-radius:8px; }

  input[type="file"]{ display:none; }

  /* preview & info */
  .preview {
    display:flex;
    flex-direction:column;
    gap:12px;
    align-items:center;
  }
  .preview-img {
    max-width:100%;
    width:100%;
    border-radius:10px;
    overflow:hidden;
    border:1px solid rgba(255,255,255,0.03);
    background: #0b0f14;
  }
  .preview-img img{
    display:block;
    width:100%;
    height:auto;
    max-height:420px;
    object-fit:contain;
  }
  .info-box{
    width:100%;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), transparent);
    border-radius:10px;
    padding:10px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    border:1px solid rgba(255,255,255,0.02);
    color:var(--muted);
    font-size:13px;
  }

  /* right side controls */
  .controls{
    padding:12px;
    border-radius:10px;
    background: linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
    border:1px solid rgba(255,255,255,0.02);
  }
  .controls h3{ margin:0 0 10px 0; color:#dff1ff; font-size:15px }
  .field{ margin-bottom:10px; }
  .field label{
    display:block; font-size:13px; color:var(--muted); margin-bottom:6px;
  }
  .field input{
    width:100%;
    padding:10px 12px;
    border-radius:8px;
    border:1px solid rgba(255,255,255,0.03);
    background:#0d1117;
    color:var(--text);
    font-size:14px;
  }
  .row{
    display:flex;
    gap:8px;
  }
  .row .field{ flex:1; }

  .small-muted{ font-size:12px; color:var(--muted) }

  /* action row bottom */
  .actions{
    margin-top:12px;
    display:flex;
    gap:8px;
    align-items:center;
    justify-content:flex-end;
  }

  /* responsive */
  @media (max-width:880px){
    .top-grid{ grid-template-columns: 1fr; }
    .preview-img img{ max-height:320px; }
  }
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <div>
        <h1>üñºÔ∏è Image Resize & Crop</h1>
        <p class="small-muted">Upload an image ‚Äî then resize, crop, or download. Click or drag & drop below.</p>
      </div>
    </header>

    <div class="card">
      <div class="top-grid">
        <!-- LEFT: upload + preview -->
        <div>
          <label id="uploadArea" class="upload-area" for="fileInput" tabindex="0" role="button" aria-label="Upload image (click or drag and drop)">
            <div class="upload-left">üìÅ</div>
            <div class="upload-meta">
              <h3 id="uploadTitle">Click or drop an image here</h3>
              <p id="uploadSubtitle">PNG, JPG, WEBP up to 20MB ‚Äî or drag & drop</p>
              <div class="upload-cta">
                <button class="btn small" id="chooseFile">Choose file</button>
                <button class="btn ghost small" id="pasteUrl">Paste URL</button>
              </div>
            </div>
            <input id="fileInput" type="file" accept="image/*" />
          </label>

          <div id="previewWrap" class="preview" style="display:none;">
            <div class="preview-img">
              <img id="previewImg" src="" alt="Uploaded preview">
            </div>
            <div class="info-box">
              <div>
                <div id="fileName" style="font-weight:600;color:#dff1ff">filename.jpg</div>
                <div id="fileSize" class="small-muted">123 KB</div>
              </div>
              <div style="text-align:right">
                <div class="small-muted">Original</div>
                <div id="dimensions" style="font-weight:600;color:#dff1ff">0 √ó 0 px</div>
              </div>
            </div>
          </div>
        </div>

        <!-- RIGHT: controls -->
        <aside class="controls" aria-live="polite">
          <h3>Options</h3>

          <div class="field">
            <label>Operation</label>
            <div class="row" style="align-items:center">
              <select id="operation" style="flex:1;padding:10px;border-radius:8px;background:#0d1117;color:#e6eef8;border:1px solid rgba(255,255,255,0.03)">
                <option value="resize">Resize</option>
                <option value="crop">Crop (manual coords)</option>
              </select>
            </div>
          </div>

          <div id="resizeFields">
            <div class="row">
              <div class="field">
                <label>Width (px)</label>
                <input id="widthInput" type="number" min="1" />
              </div>
              <div class="field">
                <label>Height (px)</label>
                <input id="heightInput" type="number" min="1" />
              </div>
            </div>
            <div style="display:flex;gap:8px;margin-top:8px;align-items:center">
              <label style="margin:0"><input id="keepAspect" type="checkbox" checked /> Keep aspect</label>
              <div style="flex:1"></div>
              <div class="small-muted">Tip: change one dimension to auto-scale when keep aspect is on</div>
            </div>
          </div>

          <div id="cropFields" style="display:none">
            <div class="row">
              <div class="field"><label>X</label><input id="cropX" type="number" value="0"></div>
              <div class="field"><label>Y</label><input id="cropY" type="number" value="0"></div>
            </div>
            <div class="row">
              <div class="field"><label>Width</label><input id="cropW" type="number" value="100"></div>
              <div class="field"><label>Height</label><input id="cropH" type="number" value="100"></div>
            </div>
            <div style="margin-top:8px;color:var(--muted);font-size:13px">You can set exact crop coordinates (pixels).</div>
          </div>

          <div style="margin-top:14px">
            <button id="applyBtn" class="btn" style="width:100%">Apply & Preview</button>
          </div>

          <div class="actions" style="margin-top:14px">
            <button id="resetBtn" class="btn ghost small">Reset</button>
            <button id="downloadBtn" class="btn small">Download Edited</button>
            <button id="downloadOriginal" class="btn small ghost">Download Original</button>
          </div>
        </aside>
      </div>
    </div>
  </div>

<script>
  // Elements
  const uploadArea = document.getElementById('uploadArea');
  const fileInput = document.getElementById('fileInput');
  const previewWrap = document.getElementById('previewWrap');
  const previewImg = document.getElementById('previewImg');
  const dimensions = document.getElementById('dimensions');
  const fileNameEl = document.getElementById('fileName');
  const fileSizeEl = document.getElementById('fileSize');
  const chooseFileBtn = document.getElementById('chooseFile');
  const pasteUrlBtn = document.getElementById('pasteUrl');

  const operation = document.getElementById('operation');
  const resizeFields = document.getElementById('resizeFields');
  const cropFields = document.getElementById('cropFields');
  const widthInput = document.getElementById('widthInput');
  const heightInput = document.getElementById('heightInput');
  const keepAspect = document.getElementById('keepAspect');
  const cropX = document.getElementById('cropX');
  const cropY = document.getElementById('cropY');
  const cropW = document.getElementById('cropW');
  const cropH = document.getElementById('cropH');

  const applyBtn = document.getElementById('applyBtn');
  const resetBtn = document.getElementById('resetBtn');
  const downloadBtn = document.getElementById('downloadBtn');
  const downloadOriginal = document.getElementById('downloadOriginal');

  let originalImage = new Image();
  let originalDataURL = null;
  let naturalW = 0, naturalH = 0;
  let editedCanvas = document.createElement('canvas');

  // helper: human file size
  function humanFileSize(bytes){
    if(bytes < 1024) return bytes + " B";
    let i = Math.floor(Math.log(bytes) / Math.log(1024));
    let sizes = ['B','KB','MB','GB','TB'];
    return (bytes / Math.pow(1024, i)).toFixed(2) + ' ' + sizes[i];
  }

  // open file dialog
  chooseFileBtn.addEventListener('click', e => fileInput.click());
  uploadArea.addEventListener('click', e => fileInput.click());

  // paste URL option (simple prompt)
  pasteUrlBtn.addEventListener('click', async () => {
    const url = prompt("Paste image URL:");
    if(!url) return;
    loadImageFromURL(url);
  });

  // handle drag & drop
  ['dragenter','dragover'].forEach(ev=>{
    uploadArea.addEventListener(ev, e=>{
      e.preventDefault(); e.stopPropagation();
      uploadArea.classList.add('dragover');
    });
  });
  ['dragleave','drop'].forEach(ev=>{
    uploadArea.addEventListener(ev, e=>{
      e.preventDefault(); e.stopPropagation();
      uploadArea.classList.remove('dragover');
    });
  });
  uploadArea.addEventListener('drop', e=>{
    const dt = e.dataTransfer;
    if(!dt) return;
    const file = dt.files[0];
    if(file) handleFile(file);
  });

  // keyboard accessibility on label
  uploadArea.addEventListener('keydown', e=>{
    if(e.key === 'Enter' || e.key === ' ') fileInput.click();
  });

  // file input change
  fileInput.addEventListener('change', (e)=>{
    const f = e.target.files[0];
    if(f) handleFile(f);
    fileInput.value = ""; // reset
  });

  function handleFile(file){
    if(!file.type.startsWith('image/')) { alert('Please upload an image file.'); return; }
    if(file.size > 20 * 1024 * 1024){ alert('File too large (max 20MB).'); return; }

    const reader = new FileReader();
    reader.onload = (ev)=>{
      originalDataURL = ev.target.result;
      loadImageData(originalDataURL, file);
    };
    reader.readAsDataURL(file);
  }

  function loadImageFromURL(url){
    // attempt to load cross-origin image via fetch -> blob -> dataURL
    fetch(url).then(r => r.blob()).then(blob=>{
      const file = new File([blob], 'remote-image', { type: blob.type });
      const reader = new FileReader();
      reader.onload = (ev)=>{
        originalDataURL = ev.target.result;
        loadImageData(originalDataURL, file);
      };
      reader.readAsDataURL(file);
    }).catch(err=>{
      alert('Failed to load image from URL.');
      console.error(err);
    });
  }

  function loadImageData(dataURL, file){
    originalImage = new Image();
    originalImage.onload = ()=>{
      naturalW = originalImage.naturalWidth;
      naturalH = originalImage.naturalHeight;

      previewImg.src = dataURL;
      previewWrap.style.display = 'block';
      fileNameEl.textContent = file.name || 'image';
      fileSizeEl.textContent = humanFileSize(file.size || 0);
      dimensions.textContent = naturalW + ' √ó ' + naturalH + ' px';

      // prefill resize inputs
      widthInput.value = naturalW;
      heightInput.value = naturalH;

      // prefill crop values
      cropX.value = 0;
      cropY.value = 0;
      cropW.value = Math.min( Math.floor(naturalW/2), naturalW );
      cropH.value = Math.min( Math.floor(naturalH/2), naturalH );

      // enable action buttons
      applyBtn.disabled = false;
      downloadBtn.disabled = false;
      downloadOriginal.disabled = false;
    };
    originalImage.src = dataURL;
  }

  // operation switch
  operation.addEventListener('change', ()=>{
    if(operation.value === 'resize'){
      resizeFields.style.display = '';
      cropFields.style.display = 'none';
    } else {
      resizeFields.style.display = 'none';
      cropFields.style.display = '';
    }
  });

  // keep aspect behavior: when checked, editing one dimension auto-changes the other
  widthInput.addEventListener('input', ()=>{
    if(keepAspect.checked && naturalW && naturalH){
      const newW = parseInt(widthInput.value) || naturalW;
      const newH = Math.round(newW * naturalH / naturalW);
      heightInput.value = newH;
    }
  });
  heightInput.addEventListener('input', ()=>{
    if(keepAspect.checked && naturalW && naturalH){
      const newH = parseInt(heightInput.value) || naturalH;
      const newW = Math.round(newH * naturalW / naturalH);
      widthInput.value = newW;
    }
  });

  // Apply & Preview
  applyBtn.addEventListener('click', ()=>{
    if(!originalDataURL){ alert('Please upload an image first.'); return; }
    if(operation.value === 'resize') doResizePreview();
    else doCropPreview();
  });

  function doResizePreview(){
    const w = Math.max(1, parseInt(widthInput.value) || naturalW);
    const h = Math.max(1, parseInt(heightInput.value) || naturalH);

    const c = editedCanvas;
    c.width = w; c.height = h;
    const ctx = c.getContext('2d');
    ctx.clearRect(0,0,w,h);
    ctx.drawImage(originalImage, 0, 0, w, h);

    // show preview
    previewImg.src = c.toDataURL();
    dimensions.textContent = w + ' √ó ' + h + ' px (edited)';
  }

  function doCropPreview(){
    const x = Math.max(0, parseInt(cropX.value) || 0);
    const y = Math.max(0, parseInt(cropY.value) || 0);
    let w = Math.max(1, parseInt(cropW.value) || 1);
    let h = Math.max(1, parseInt(cropH.value) || 1);

    // clamp values to image bounds
    if(x + w > naturalW) w = naturalW - x;
    if(y + h > naturalH) h = naturalH - y;

    const c = editedCanvas;
    c.width = w; c.height = h;
    const ctx = c.getContext('2d');
    ctx.clearRect(0,0,w,h);
    ctx.drawImage(originalImage, x, y, w, h, 0, 0, w, h);

    previewImg.src = c.toDataURL();
    dimensions.textContent = w + ' √ó ' + h + ' px (cropped)';
  }

  // Download edited: uses editedCanvas if present, otherwise original
  downloadBtn.addEventListener('click', ()=>{
    let dataURL = previewImg.src || originalDataURL;
    if(!dataURL){ alert('Nothing to download'); return; }
    const a = document.createElement('a');
    a.href = dataURL;
    a.download = 'image-edited.png';
    a.click();
  });

  // Download original
  downloadOriginal.addEventListener('click', ()=>{
    if(!originalDataURL){ alert('No original available'); return; }
    const a = document.createElement('a');
    a.href = originalDataURL;
    a.download = 'image-original.png';
    a.click();
  });

  // Reset to original
  resetBtn.addEventListener('click', ()=>{
    if(!originalDataURL) return;
    previewImg.src = originalDataURL;
    dimensions.textContent = naturalW + ' √ó ' + naturalH + ' px';
    widthInput.value = naturalW;
    heightInput.value = naturalH;
    cropX.value = 0; cropY.value = 0;
    cropW.value = Math.min( Math.floor(naturalW/2), naturalW );
    cropH.value = Math.min( Math.floor(naturalH/2), naturalH );
  });

  // init state: disable buttons until image loaded
  (()=>{
    applyBtn.disabled = true;
    downloadBtn.disabled = true;
    downloadOriginal.disabled = true;
  })();

</script>
</body>
</html>
